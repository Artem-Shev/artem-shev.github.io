"use strict";!function(){angular.module("myApp",["ngRoute","ngAnimate","ui.bootstrap","myApp.common"])}(),function(){function t(){var t={templateUrl:"components/user-list/user-list.html",controller:"UserListCtrl",controllerAs:"ctrl"};return t}angular.module("myApp").directive("userList",t)}(),function(){function t(t){function r(){function r(r){t.users=r,e.users=t.users}if(t.firstLaunch)return t.firstLaunch=!1,t.getUsers().then(r)}var e=this;e.users=t.users||[],r()}angular.module("myApp").controller("UserListCtrl",t),t.$inject=["userService"]}(),function(){function t(){var t={restrict:"E",templateUrl:"components/user/user.html",controller:"UserCtrl",controllerAs:"ctrl"};return t}angular.module("myApp").directive("user",t)}(),function(){function t(t,r){function e(){function e(t){r.users=t,s()}function s(){n.user=_.find(r.users,{id:parseInt(t.userId)})}r.firstLaunch&&(r.firstLaunch=!1,r.getUsers().then(e))}var n=this;n.id=t.userId,n.user=_.find(r.users,{id:parseInt(t.userId)})||{},e()}angular.module("myApp").controller("UserCtrl",t),t.$inject=["$routeParams","userService"]}(),function(){function t(){var t={templateUrl:"components/nav-bar/nav-bar.html",controller:"NavBarCtrl",controllerAs:"ctrl"};return t}angular.module("myApp").directive("navBar",t)}(),function(){function t(t,r,e){function n(){var e=r.$$path;if("/users"===e||e==="/users/"+t.userId)return!0}function s(){var e=r.$$path;if("/articles"===e||e==="/articles/"+t.articleId)return!0}function a(){e.innerWidth<768&&(l.isCollapsed=!l.isCollapsed)}var l=this;l.checkLocUsers=n,l.checkLocArticles=s,l.isCollapsed=!0,l.collapseNavbar=a}angular.module("myApp").controller("NavBarCtrl",t),t.$inject=["$routeParams","$location","$window"]}(),function(){function t(){var t={restrict:"E",templateUrl:"components/articles-list/articles-list.html",controller:"ArticlesListCtrl",controllerAs:"ctrl"};return t}angular.module("myApp").directive("articlesList",t)}(),function(){function t(t,r,e){function n(t){i.itemsPerPage=t,i.currentPage=1}function s(t){i.currentPage=t}function a(t){i.articles.forEach(function(r){r.textPrev=r.text.slice(0,t)+"..."})}function l(){function t(t){r.articles=t,i.articles=r.articles,n()}function n(){a(i.prevQuant),i.totalItems=i.articles.length,e.$watch("ctrl.currentPage + ctrl.itemsPerPage",function(){i.filteredArticles=i.articles.slice((i.currentPage-1)*i.itemsPerPage,i.currentPage*i.itemsPerPage)})}r.firstLaunch?(r.firstLaunch=!1,r.getArticles().then(t)):n()}var i=this;i.articles=r.articles||[],i.prevQuant=100,i.currentPage=1,i.itemsPerPage="5",i.setItemsPerPage=n,i.setPage=s,i.setPreview=a,l()}angular.module("myApp").controller("ArticlesListCtrl",t),t.$inject=["$location","articleService","$scope"]}(),function(){function t(){var t={restrict:"E",controller:"ArticleCtrl",controllerAs:"ctrl",templateUrl:"components/article-item/article-item.html"};return t}angular.module("myApp").directive("articleItem",t)}(),function(){function t(t,r){function e(){function t(t){r.articles=t,n.article=_.find(r.articles,{id:parseInt(n.id)})||{}}r.firstLaunch&&(r.firstLaunch=!1,r.getArticles().then(t))}var n=this;n.id=t.articleId,n.article=_.find(r.articles,{id:parseInt(n.id)})||{},e()}angular.module("myApp").controller("ArticleCtrl",t),t.$inject=["$routeParams","articleService"]}(),function(){angular.module("myApp.common",[])}(),function(){function t(){return function(t){if(t){var r=t[0].toUpperCase(),e=r+t.substr(1);return e}}}angular.module("myApp.common").filter("firstLetter",t)}(),angular.module("myApp").run(["$templateCache",function(t){t.put("components/article-item/article-item.html",'\r\n<div class="container-fluid article__container">\r\n\t<h3>{{ctrl.article.title | firstLetter}}</h3>\r\n\t<p><a ng-href="#!/users/{{ctrl.article.author.id}}"><span class="text-capitalize">{{ctrl.article.author.first + \' \' + ctrl.article.author.last}}</span></a></p>\r\n\t<p class="article__text">{{ctrl.article.text | firstLetter}}</p>\r\n</div>'),t.put("components/articles-list/articles-list.html",'<div class="container-fluid">\r\n\t<div class="row">\r\n\t\t<section class="settings col-md-3 col-sm-3 col-xs-12">\r\n\t\t\t<p>\r\n\t\t\t\t<span class="settings__title">Articles per page:</span>\r\n\t\t\t\t<select ng-model="ctrl.itemsPerPage" ng-change="ctrl.setItemsPerPage(ctrl.itemsPerPage)" class="settings__inp">\r\n\t\t\t\t\t<option>5</option>\r\n\t\t\t\t\t<option>10</option>\r\n\t\t\t\t\t<option>15</option>\r\n\t\t\t\t</select>\r\n\t\t\t</p>\r\n\t\t\t<p>\r\n\t\t\t\t<span class="settings__title">Preview size, letters:</span>\r\n\t\t\t\t<input type="text" ng-model="ctrl.prevQuant" ng-change="ctrl.setPreview(ctrl.prevQuant)" class="settings__inp">\r\n\t\t\t</p>\r\n\t\t</section>\r\n\t   \r\n\t   <div class="col-md-9 col-sm-9 col-xs-12 article-list__container">\r\n\t   \t\r\n\t\t\t<div class="text-center">\r\n\t\t\t\t<ul uib-pagination\r\n\t\t\t\t\tboundary-links="true"  \r\n\r\n\t\t\t\t\ttotal-items="ctrl.totalItems" \r\n\t\t\t\t\titems-per-page="ctrl.itemsPerPage"\r\n\t\t\t\t\tng-model="ctrl.currentPage" \r\n\t\t\t\t\tng-change="ctrl.setPage(ctrl.currentPage)" \r\n\t\t\t\t\tclass="pagination-sm" \r\n\r\n\t\t\t\t\tprevious-text="&lsaquo;" \r\n\t\t\t\t\tnext-text="&rsaquo;" \r\n\t\t\t\t\tfirst-text="&laquo;" \r\n\t\t\t\t\tlast-text="&raquo;"\r\n\t\t\t\t ></ul>\r\n\t\t\t</div>\r\n\r\n\t\t\t<ul class="article__list">\r\n\t\t\t\t<li class="article__item" ng-repeat="article in ctrl.filteredArticles">\r\n\t\t\t\t\t<h4><a ng-href="#!/articles/{{article.id}}">{{article.title | firstLetter}}</a></h4>\t\r\n\t\t\t\t\t<p class="text-capitalize"><a ng-href="#!/users/{{article.author.id}}">{{article.author.first + \' \' + article.author.last}}</a></p>\t\r\n\t\t\t\t\t<p>{{article.textPrev | firstLetter}}</p>\t\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t   </div> \r\n\r\n\t</div>\r\n</div>\r\n\r\n'),t.put("components/footer/footer.html",'<div class="copy__info">Developed by Artem Shevliakov</div>\r\n<div class="copy__info"><a href="https://github.com/artem-shev/portfolio/tree/master/angular-app" class="copy__link">&lt; &gt; Source code</a></div>'),t.put("components/nav-bar/nav-bar.html",'<nav class="navbar navbar-default">\r\n  <div class="container-fluid">\r\n    <!-- Brand and toggle get grouped for better mobile display -->\r\n    <div class="navbar-header">\r\n      <button type="button" class="navbar-toggle collapsed" ng-click="ctrl.isCollapsed = !ctrl.isCollapsed">\r\n        <span class="sr-only">Toggle navigation</span>\r\n        <span class="icon-bar"></span>\r\n        <span class="icon-bar"></span>\r\n        <span class="icon-bar"></span>\r\n      </button>\r\n      <a class="navbar-brand m-title" href="#">My app</a>\r\n    </div>\r\n\r\n    <!-- Collect the nav links, forms, and other content for toggling -->\r\n    <div class="collapse navbar-collapse" uib-collapse="ctrl.isCollapsed">\r\n      <ul class="nav navbar-nav">\r\n        <li ng-class="{activeted: ctrl.checkLocUsers()}"><a href="#!/users" class="navbar-link" ng-click="ctrl.collapseNavbar()">Users</a></li>\r\n        <li ng-class="{activeted: ctrl.checkLocArticles()}"><a href="#!/articles" class="navbar-link" ng-click="ctrl.collapseNavbar()">Articles</a></li>\r\n      </ul>\r\n\r\n    </div><!-- /.navbar-collapse -->\r\n  </div><!-- /.container-fluid -->\r\n</nav>\r\n\r\n'),t.put("components/user/user.html",'<div class="container-fluid user__container">\r\n\t<div class="user__info clearfix">\r\n\t\t<p class="user__ava"><img ng-src="{{ctrl.user.picture.large}}" alt="user avatar"></p>\r\n\t\t<p class="user__name">Name: <span class="text-capitalize">{{ctrl.user.name.first + \' \' + ctrl.user.name.last}}</span></p>\r\n\t\t<p class="user__email">Email: {{ctrl.user.email}}</p>\r\n\t\t<p class="user__loc">Location: <span class="text-capitalize">{{ctrl.user.location.city + \', \' + ctrl.user.location.state}}</span></p>\r\n\t</div>\r\n\t<ul class="user-article__list"><b>Available articles:</b> \r\n\t\t<li ng-repeat="article in ctrl.user.articles" class="user-article__item"><a ng-href="#!/articles/{{article.id}}">{{article.title | firstLetter}}</a></li>\r\n\t</ul>\r\n</div>'),t.put("components/user-list/user-list.html",'<div class="container-fluid">\r\n\t<div class="row">\r\n\t\t<section class="settings col-md-3 col-sm-3 col-xs-12">\r\n\t\t\t<p>\r\n\t\t\t\t<span class="settings__title">Search users:</span>\r\n\t\t\t\t<input type="text" class="settings__inp" ng-model=\'ctrl.userName\'>\r\n\t\t\t</p>\r\n\t\t</section>\r\n\r\n\t\t<ul class="user-list__list col-md-9 col-sm-9 col-xs-12">\r\n\t\t\t<li ng-repeat=\'user in ctrl.users | filter: {name: {$: ctrl.userName}}\' class="user-list__item">\r\n\t\t\t\t\t<div class="user-list__ava"><img ng-src="{{user.picture.thumbnail}}" alt="user avatar" class="user-list__img"></div>\r\n\t\t\t\t\t<div class="user-list__info">\r\n\t\t\t\t\t\t<div class="user-list__name"><span class="glyphicon glyphicon-user"></span> <a href="#!/users/{{user.id}}" class="user-list__link text-capitalize">{{user.name.first + \' \' + user.name.last}}</a></div>\r\n\t\t\t\t\t\t<div class="user-list__articles">Available articles: {{user.articles.length}}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t</div>\r\n</div>\r\n')}]),function(){function t(t){function r(){function r(t){return t.data.results}return t.get("data/users10.json").then(r)}var e={firstLaunch:!0,getUsers:r};return e}angular.module("myApp.common").factory("userService",t),t.$inject=["$http"]}(),function(){function t(t){function r(){function r(t){return t.data}return t.get("data/lorem-articles.json").then(r)}var e={firstLaunch:!0,getArticles:r};return e}angular.module("myApp.common").factory("articleService",t),t.$inject=["$http"]}(),function(){function t(t,r){t.hashPrefix("!"),r.when("/users",{template:"<user-list></user-list>"}).when("/users/:userId",{template:"<user></user>"}).when("/articles",{template:"<articles-list></articles-list>"}).when("/articles/:articleId",{template:"<article-item></article-item>"}).otherwise("/users")}angular.module("myApp").config(t),t.$inject=["$locationProvider","$routeProvider"]}();